<body>
  <div class="signup-form">	
    <form (ngSubmit)="takeSignUpData(f)" #f="ngForm">
		<h2>Sign up</h2>
        <div class="form-group">
			<div class="input-group">
				<span class="input-group-addon"></span>
        <input class="form-control" type="text" name="username" #username="ngModel" ngModel [(ngModel)] ="user.username" required minlength="3" placeholder="Username" [ngClass]="{'is-invalid': username.invalid && (username.dirty || username.touched)}">
        <div class="invalid-feedback" *ngIf="username.invalid && (username.dirty || username.touched)">Please enter your username (minimum 3 characters)!</div>
      </div>
        </div>
        <div class="form-group">
			<div class="input-group">
        <span class="input-group-addon"></span>
				<input class="form-control" type="email" name="email" email #email="ngModel" ngModel [(ngModel)] ="user.email" required placeholder="Email Address" [ngClass]="{'is-invalid': email.invalid && (email.dirty || email.touched)}">
        <div class="invalid-feedback" *ngIf="email.invalid && (email.dirty || email.touched)">Please enter your e-mail!</div>
      </div>
        </div>
		<div class="form-group">
			<div class="input-group">
        <span class="input-group-addon"></span>
				<input class="form-control" type="password" name="password" #password="ngModel" ngModel [(ngModel)] ="user.password" placeholder="Password" required validateEqual="confirmPassword" reverse="true" [ngClass]="{'is-invalid': password.invalid && (password.dirty || password.touched)}">
        <div class="invalid-feedback" *ngIf="password.invalid && (password.dirty || password.touched)">Please enter your password!</div>
      </div>
        </div>
		<div class="form-group">
			<div class="input-group">
        <span class="input-group-addon"></span>
				<input class="form-control" type="password" name="confirm_password" #confirm_password="ngModel" ngModel placeholder="Confirm Password" required validateEqual="password" [ngClass]="{'is-invalid': confirm_password.invalid && (confirm_password.dirty || confirm_password.touched)}">
        <div class="invalid-feedback" *ngIf="confirm_password.invalid && (confirm_password.dirty || confirm_password.touched)">You need to confirm your password!</div>
      </div>
        </div>        
		<div class="form-group">
            <button type="submit" [disabled]="f.invalid" class="btn btn-primary btn-block btn-lg" data-toggle="modal" data-target="#userExists">Sign Up</button>
        </div>
    </form>
	<div class="text-center font">Already have an account? <a href="login">Login here</a>.</div>
</div>
</body>

<!-- Modal -->
<div class="modal fade" id="userExists" tabindex="-1" role="dialog" aria-labelledby="userExistsLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="userExistsLabel">Survey</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
          <p>{{ message }}</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal" (click)="onOk()" [disabled]="f.valid">OK</button>
      </div>
    </div>
  </div>
</div>